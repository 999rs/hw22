@model hw20.Models.ProdCatalogViewModel

@{
    ViewData["Title"] = "Catalog";
}

<h1>Index</h1>

<div>
    <h4>ProdCatalogViewModel</h4>
    


    <div id="catalogListBlock" class="catalogListBlock">
    <ul id="productList" class="productList">
    @foreach(var product in Model.Products)
    {
        <li class="prodListItem">
            <div class="productNameBlock">
                <strong class="productItemName">@product.ProductName</strong>
                <br />
            </div>

            <div class="productImageBlock"> 
               <img class="ProductImage" src= "@Url.Content(product.ImagePath)" alt="@product.ProductName">
            </div>
            <p class="productItemDescr" title="@product.ProductDescription">@product.ProductDescription</p>

            <div class="productItemActions">
                <button class="productButton" href="#" onclick="addProductToCart(@product.Id, 1)">+</button>
                <span id="itemCartSpan_@product.Id" class="itemCartSpan">
                            @Model.Cart.CartOrderItems.Where(x => x.ProductId == product.Id).FirstOrDefault()?.Quantity
                </span>
                <button class="productButton" href="#" onclick="addProductToCart(@product.Id, -1)">-</button>
                @*<input type="button" value="Add to Cart" href="#" onclick="addProductToCart(@product.ProductId, 1)" />*@
                @*<button class="itemCartBtn"></button>*@
                
                @*<label class="ProductInCartCount"></label>*@

            </div>
        </li>

    }
    </ul>

    </div>


@* --  DataTables
    <table id="prodCatTable" class="display">
    <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Description</th>
            <th>Details</th>
            <th>Quantity</th>
            <th>Add to Cart</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var product in Model.Products){
            <tr>
                <td>@product.ProductId                   
                </td>
                <td>@product.ProductName</td>
                <td>@product.ProductDescription</td>
                <td> 
                    <a  href="~/product/ProductAbout/@product.ProductId" >View Details</a> 
                    
                </td>
                <td>
                    <input id="qid_@product.ProductId" type="number" value ="1" min="1" max="10"  />
                </td>
                <td> 
                    <input type="button" value="Add to Cart" href="#" onclick="addProductToCart(@product.ProductId, qid_@product.ProductId)" />
                    
                </td>
            </tr>
        }
        
    </tbody>
</table>*@

</div>


<script src="~/js/prodCatalog.js"  ></script>

<div>
@*    @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
    <a asp-action="Index">Back to List</a>*@
</div>
